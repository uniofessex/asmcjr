save(taiwan_legis_7th, file="taiwan_legis_7th.rda", compress="xz")
taiwan_legis_7th
save(legis_rc_7th, file="legis_rc_7th.rda", compress="xz")
legis_rc_7th
setwd("~/Documents/GitHub/legisTaiwan/data")
save(legis_rc_7th, file="legis_rc_7th.rda")
load("/Users/yenchiehliao/Desktop/taiwan_legis_7th.rda")
force(BAM)
load("/Users/yenchiehliao/Desktop/taiwan_legis_7th.rda")
save(legis_rc_7th, file = "legis_rc_7th.rda")
View(taiwan_legis_7th)
str(taiwan_legis_7th)
load("~/Documents/GitHub/legisTaiwan/data/legisvote.rda")
legis_rc_7th <- reshape2::dcast(data = subset(legisvote, sessions ==7),
legis.names + party ~ session.id, fun.aggregate = function(x) as.numeric(paste(x, collapse = "-")),
value.var = "legis.outcome")
legis_rc_7th <- legis_rc_7th[-2,]
legis_rc_7th[legis_rc_7th$legis.names== "劉建國", "party"] <- "D"
save(legis_rc_7th, file="legis_rc_7th.rda")
load("/Users/yenchiehliao/Desktop/legis_rc_7th.rda")
legis_7th <- reshape2::dcast(data = subset(legisvote, sessions ==7),
legis.names + party ~ session.id,
fun.aggregate = function(x) as.numeric(paste(x, collapse = "-")), value.var = "legis.outcome")
legis_7th <- legis_7th[-2,]
legis_7th[legis_7th$legis.names== "劉建國", "party"] <- "D"
legis_7th
save(legis_7th, file="legis_7th.rda")
str(legis_7th)
save(legis_7th_Taiwan, file="legis_7th_Taiwan.rda", compress="xz")
legis_7th_Taiwan <- reshape2::dcast(data = subset(legisvote, sessions ==7),
legis.names + party ~ session.id,
fun.aggregate = function(x) as.numeric(paste(x, collapse = "-")), value.var = "legis.outcome")
legis_7th_Taiwan <- legis_7th_Taiwan[-2,]
legis_7th_Taiwan[legis_7th_Taiwan$legis.names== "劉建國", "party"] <- "D"
save(legis_7th_Taiwan, file="legis_7th_Taiwan.rda", compress="xz")
legis_7th_Taiwan
pscl_df <- rollcall(legis_7th_Taiwan[3:ncol(legis_7th_Taiwan)],
yea = 1 , nay = 2, notInLegis = c(3,4,5), legis.names = legis_7th_Taiwan$legis.names,
vote.names = colnames(legis_7th_Taiwan[3:ncol(legis_7th_Taiwan)]),
desc="The 7th Taiwan Legislative Roll Call")
summary(pscl_df, verbose=FALSE)
result <- wnominate(pscl_df, ubeta = 15, uweights = 0.5,
dims = 2, minvotes = 20 , lop = 0.025, trials = 3, polarity = c("邱議瑩", "丁守中"), verbose = FALSE)
result_final <- rownames_to_column(result$legislators, "legis.names") %>%
left_join(legis_7th_Taiwan[c("legis.names", "party")], by = "legis.names") %>%
mutate(coord2D.WEIGHT = coord2D*(result$weights[2])/(result$weights[1]))
legis_rc_7th_result
summary(pscl_df, verbose=FALSE)
summary(pscl_df, verbose=FALSE)
head(legis_7th_Taiwan, n =10)
result_final <- rownames_to_column(result$legislators, "legis.names") %>%
left_join(legis_7th_Taiwan[c("legis.names", "party")], by = "legis.names") %>%
mutate(coord2D.WEIGHT = coord2D*(result$weights[2])/(result$weights[1]))
library(wnominate)
library(tidyverse)
library(pscl)
library(ggpubr)
install.packages("ggpubr")
library(ggpubr)
result
result_final
result_final <- rownames_to_column(result$legislators, "legis.names") %>%
left_join(legis_7th_Taiwan[c("legis.names", "party")], by = "legis.names") %>%
mutate(coord2D.WEIGHT = coord2D*(result$weights[2])/(result$weights[1]))
p <- ggscatter(result_final[!is.na(result_final$coord1D),], x = "coord1D", y = "coord2D.WEIGHT",
palette = "jco", shape = "party", point = FALSE,
ellipse = TRUE, ellipse.type = "confidence", size = ) +
scale_y_continuous(limits = c(-0.5, 0.5) ) +
scale_x_continuous(limits = c(-1, 1)) +
geom_text(aes(label = factor(party), colour = party), size = 1,
family="Helvetica", face = "bold", show.legend = FALSE, vjust = -0.5) +
scale_colour_manual(values = c("#0000ff","#008964","#8b0017"),breaks = c("K", "D","N"))  +
theme(legend.position = NULL,
legend.justification = "center",
legend.background = element_blank(),
legend.key = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 2,vjust = 0.5,family ="Trebuchet MS", face = "bold")) +
theme(axis.text = element_text(size=2, family ="Helvetica", face = "bold"),
axis.title = element_text(size = 2, family ="Helvetica", face = "bold"),
axis.text.x = element_text(size = 2 , family ="Helvetica",face = "bold"),
axis.text.y = element_text(size = 2, family ="Helvetica",face = "bold"),
axis.title.x = element_text(family ="Helvetica", size = 3.5, face = "bold"),
axis.title.y = element_text(family ="Helvetica", size = 3.5, face = "bold")) +
theme(legend.position = "none") +
theme_transparent() +
labs(y = "2nd Dimension", x = "1st Dimension")
p
p <- ggscatter(result_final[!is.na(result_final$coord1D),], x = "coord1D", y = "coord2D.WEIGHT",
palette = "jco", shape = "party", point = FALSE,
ellipse = TRUE, ellipse.type = "confidence", size = ) +
scale_y_continuous(limits = c(-0.5, 0.5) ) +
scale_x_continuous(limits = c(-1, 1)) +
geom_text(aes(label = factor(party), colour = party), size = 1,
family="Helvetica", face = "bold", show.legend = FALSE, vjust = -0.5) +
scale_colour_manual(values = c("#0000ff","#008964","#8b0017"),breaks = c("K", "D","N"))  +
theme(legend.position = NULL,
legend.justification = "center",
legend.background = element_blank(),
legend.key = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 2,vjust = 0.5,family ="Trebuchet MS", face = "bold")) +
theme(axis.text = element_text(size=2, family ="Helvetica", face = "bold"),
axis.title = element_text(size = 2, family ="Helvetica", face = "bold"),
axis.text.x = element_text(size = 2 , family ="Helvetica",face = "bold"),
axis.text.y = element_text(size = 2, family ="Helvetica",face = "bold"),
axis.title.x = element_text(family ="Helvetica", size = 3.5, face = "bold"),
axis.title.y = element_text(family ="Helvetica", size = 3.5, face = "bold")) +
theme(legend.position = "none") +
#theme_transparent() +
labs(y = "2nd Dimension", x = "1st Dimension")
ggscatter(result_final[!is.na(result_final$coord1D),], x = "coord1D", y = "coord2D.WEIGHT",
palette = "jco", shape = "party", point = FALSE,
ellipse = TRUE, ellipse.type = "confidence", size = ) +
scale_y_continuous(limits = c(-0.5, 0.5) ) +
scale_x_continuous(limits = c(-1, 1)) +
geom_text(aes(label = factor(party), colour = party), size = 1,
family="Helvetica", face = "bold", show.legend = FALSE, vjust = -0.5) +
scale_colour_manual(values = c("#0000ff","#008964","#8b0017"),breaks = c("K", "D","N"))  +
theme(legend.position = NULL,
legend.justification = "center",
legend.background = element_blank(),
legend.key = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 2,vjust = 0.5,family ="Trebuchet MS", face = "bold")) +
theme(axis.text = element_text(size=2, family ="Helvetica", face = "bold"),
axis.title = element_text(size = 2, family ="Helvetica", face = "bold"),
axis.text.x = element_text(size = 2 , family ="Helvetica",face = "bold"),
axis.text.y = element_text(size = 2, family ="Helvetica",face = "bold"),
axis.title.x = element_text(family ="Helvetica", size = 3.5, face = "bold"),
axis.title.y = element_text(family ="Helvetica", size = 3.5, face = "bold")) +
theme(legend.position = "none") +
#theme_transparent() +
labs(y = "2nd Dimension", x = "1st Dimension")
ggscatter(result_final[!is.na(result_final$coord1D),], x = "coord1D", y = "coord2D.WEIGHT",
palette = "jco", shape = "party", point = FALSE,
ellipse = TRUE, ellipse.type = "confidence", size = 4) +
scale_y_continuous(limits = c(-0.5, 0.5) ) +
scale_x_continuous(limits = c(-1, 1)) +
geom_text(aes(label = factor(party), colour = party), size = 1,
family="Helvetica", face = "bold", show.legend = FALSE, vjust = -0.5) +
scale_colour_manual(values = c("#0000ff","#008964","#8b0017"),breaks = c("K", "D","N"))  +
theme(legend.position = NULL,
legend.justification = "center",
legend.background = element_blank(),
legend.key = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 2,vjust = 0.5,family ="Trebuchet MS", face = "bold")) +
theme(axis.text = element_text(size=2, family ="Helvetica", face = "bold"),
axis.title = element_text(size = 2, family ="Helvetica", face = "bold"),
axis.text.x = element_text(size = 2 , family ="Helvetica",face = "bold"),
axis.text.y = element_text(size = 2, family ="Helvetica",face = "bold"),
axis.title.x = element_text(family ="Helvetica", size = 3.5, face = "bold"),
axis.title.y = element_text(family ="Helvetica", size = 3.5, face = "bold")) +
theme(legend.position = "none") +
#theme_transparent() +
labs(y = "2nd Dimension", x = "1st Dimension")
library(wnominate)
library(tidyverse)
library(pscl)
install.packages("ggpubr")
library(ggpubr)
head(legis_7th_Taiwan, n =10)
pscl_df <- rollcall(legis_7th_Taiwan[3:ncol(legis_7th_Taiwan)],
yea = 1 , nay = 2, notInLegis = c(3,4,5), legis.names = legis_7th_Taiwan$legis.names,
vote.names = colnames(legis_7th_Taiwan[3:ncol(legis_7th_Taiwan)]),
desc="The 7th Taiwan Legislative Roll Call")
summary(pscl_df, verbose=FALSE)
result <- wnominate(pscl_df, ubeta = 15, uweights = 0.5,
dims = 2, minvotes = 20 , lop = 0.025, trials = 3, polarity = c("邱議瑩", "丁守中"), verbose = FALSE)
install.packages("ggpubr")
result_final <- rownames_to_column(result$legislators, "legis.names") %>%
ggscatter(result_final[!is.na(result_final$coord1D),], x = "coord1D", y = "coord2D.WEIGHT",
palette = "jco", shape = "party", point = FALSE,
ellipse = TRUE, ellipse.type = "confidence", size = 4) +
scale_y_continuous(limits = c(-0.5, 0.5) ) +
scale_x_continuous(limits = c(-1, 1)) +
geom_text(aes(label = factor(party), colour = party), size = 1,
family="Helvetica", face = "bold", show.legend = FALSE, vjust = -0.5) +
scale_colour_manual(values = c("#0000ff","#008964","#8b0017"),breaks = c("K", "D","N"))  +
theme(legend.position = NULL,
legend.justification = "center",
legend.background = element_blank(),
legend.key = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 5,vjust = 0.5,family ="Trebuchet MS", face = "bold")) +
theme(axis.text = element_text(size=5, family ="Helvetica", face = "bold"),
axis.title = element_text(size = 2, family ="Helvetica", face = "bold"),
axis.text.x = element_text(size = 2 , family ="Helvetica",face = "bold"),
axis.text.y = element_text(size = 2, family ="Helvetica",face = "bold"),
axis.title.x = element_text(family ="Helvetica", size = 3.5, face = "bold"),
axis.title.y = element_text(family ="Helvetica", size = 3.5, face = "bold")) +
theme(legend.position = "none") +
#theme_transparent() +
labs(y = "2nd Dimension", x = "1st Dimension")
ggscatter(result_final[!is.na(result_final$coord1D),], x = "coord1D", y = "coord2D.WEIGHT",
palette = "jco", shape = "party", point = FALSE,
ellipse = TRUE, ellipse.type = "confidence", size = 4) +
scale_y_continuous(limits = c(-0.5, 0.5) ) +
scale_x_continuous(limits = c(-1, 1)) +
geom_text(aes(label = factor(party), colour = party), size = 1,
family="Helvetica", face = "bold", show.legend = FALSE, vjust = -0.5) +
scale_colour_manual(values = c("#0000ff","#008964","#8b0017"),breaks = c("K", "D","N"))  +
theme(legend.position = NULL,
legend.justification = "center",
legend.background = element_blank(),
legend.key = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 5,vjust = 0.5,family ="Trebuchet MS", face = "bold")) +
theme(axis.text = element_text(size=5, family ="Helvetica", face = "bold"),
axis.title = element_text(size = 2, family ="Helvetica", face = "bold"),
axis.text.x = element_text(size = 2 , family ="Helvetica",face = "bold"),
axis.text.y = element_text(size = 2, family ="Helvetica",face = "bold"),
axis.title.x = element_text(family ="Helvetica", size = 3.5, face = "bold"),
axis.title.y = element_text(family ="Helvetica", size = 3.5, face = "bold")) +
theme(legend.position = "none") +
#theme_transparent() +
labs(y = "2nd Dimension", x = "1st Dimension")
ggscatter(result_final[!is.na(result_final$coord1D),], x = "coord1D", y = "coord2D.WEIGHT",
palette = "jco", shape = "party", point = FALSE,
ellipse = TRUE, ellipse.type = "confidence", size = 4) +
scale_y_continuous(limits = c(-0.5, 0.5) ) +
scale_x_continuous(limits = c(-1, 1)) +
geom_text(aes(label = factor(party), colour = party), size = 1,
family="Helvetica", face = "bold", show.legend = FALSE, vjust = -0.5) +
scale_colour_manual(values = c("#0000ff","#008964","#8b0017"),breaks = c("K", "D","N"))  +
theme(legend.position = NULL,
legend.justification = "center",
legend.background = element_blank(),
legend.key = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 8,vjust = 0.5,family ="Trebuchet MS", face = "bold")) +
theme(axis.text = element_text(size=8, family ="Helvetica", face = "bold"),
axis.title = element_text(size = 8, family ="Helvetica", face = "bold"),
axis.text.x = element_text(size = 8 , family ="Helvetica",face = "bold"),
axis.text.y = element_text(size = 8, family ="Helvetica",face = "bold"),
axis.title.x = element_text(family ="Helvetica", size = 3.5, face = "bold"),
axis.title.y = element_text(family ="Helvetica", size = 3.5, face = "bold")) +
theme(legend.position = "none") +
#theme_transparent() +
labs(y = "2nd Dimension", x = "1st Dimension")
ggscatter(result_final[!is.na(result_final$coord1D),], x = "coord1D", y = "coord2D.WEIGHT",
palette = "jco", shape = "party", point = FALSE,
ellipse = TRUE, ellipse.type = "confidence", size = 4) +
scale_y_continuous(limits = c(-0.5, 0.5) ) +
scale_x_continuous(limits = c(-1, 1)) +
geom_text(aes(label = factor(party), colour = party), size = 1,
family="Helvetica", face = "bold", show.legend = FALSE, vjust = -0.5) +
scale_colour_manual(values = c("#0000ff","#008964","#8b0017"),breaks = c("K", "D","N"))  +
theme(legend.position = NULL,
legend.justification = "center",
legend.background = element_blank(),
legend.key = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 8,vjust = 0.5,family ="Trebuchet MS", face = "bold")) +
theme(axis.text = element_text(size=8, family ="Helvetica", face = "bold"),
axis.title = element_text(size = 8, family ="Helvetica", face = "bold"),
axis.text.x = element_text(size = 12 , family ="Helvetica",face = "bold"),
axis.text.y = element_text(size = 12, family ="Helvetica",face = "bold"),
axis.title.x = element_text(family ="Helvetica", size = 12, face = "bold"),
axis.title.y = element_text(family ="Helvetica", size = 12, face = "bold")) +
theme(legend.position = "none") +
#theme_transparent() +
labs(y = "2nd Dimension", x = "1st Dimension")
ggscatter(result_final[!is.na(result_final$coord1D),], x = "coord1D", y = "coord2D.WEIGHT",
palette = "jco", shape = "party", point = FALSE,
ellipse = TRUE, ellipse.type = "confidence", size = 4) +
scale_y_continuous(limits = c(-0.5, 0.5) ) +
scale_x_continuous(limits = c(-1, 1)) +
geom_text(aes(label = factor(party), colour = party), size = 3,
family="Helvetica", face = "bold", show.legend = FALSE, vjust = -0.5) +
scale_colour_manual(values = c("#0000ff","#008964","#8b0017"),breaks = c("K", "D","N"))  +
theme(legend.position = NULL,
legend.justification = "center",
legend.background = element_blank(),
legend.key = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 8,vjust = 0.5,family ="Trebuchet MS", face = "bold")) +
theme(axis.text = element_text(size=8, family ="Helvetica", face = "bold"),
axis.title = element_text(size = 8, family ="Helvetica", face = "bold"),
axis.text.x = element_text(size = 12 , family ="Helvetica",face = "bold"),
axis.text.y = element_text(size = 12, family ="Helvetica",face = "bold"),
axis.title.x = element_text(family ="Helvetica", size = 12, face = "bold"),
axis.title.y = element_text(family ="Helvetica", size = 12, face = "bold")) +
theme(legend.position = "none") +
#theme_transparent() +
labs(y = "2nd Dimension", x = "1st Dimension")
ggscatter(result_final[!is.na(result_final$coord1D),], x = "coord1D", y = "coord2D.WEIGHT",
palette = "jco", shape = "party", point = FALSE,
ellipse = TRUE, ellipse.type = "confidence", size = 4) +
scale_y_continuous(limits = c(-0.5, 0.5) ) +
scale_x_continuous(limits = c(-1, 1)) +
geom_text(aes(label = factor(party), colour = party), size = 3,
family="Helvetica", face = "bold", show.legend = FALSE, vjust = -0.5) +
scale_colour_manual(values = c("#0000ff","#008964","#8b0017"),breaks = c("K", "D","N"))  +
theme(legend.position = NULL,
legend.justification = "center",
legend.background = element_blank(),
legend.key = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 8,vjust = 0.5,family ="Trebuchet MS", face = "bold")) +
theme(axis.text = element_text(size=8, family ="Helvetica", face = "bold"),
axis.title = element_text(size = 8, family ="Helvetica", face = "bold"),
axis.text.x = element_text(size = 12 , family ="Helvetica",face = "bold"),
axis.text.y = element_text(size = 12, family ="Helvetica",face = "bold"),
axis.title.x = element_text(family ="Helvetica", size = 12, face = "bold"),
axis.title.y = element_text(family ="Helvetica", size = 12, face = "bold")) +
theme(legend.position = "bottom") +
#theme_transparent() +
labs(y = "2nd Dimension", x = "1st Dimension")
ggscatter(result_final[!is.na(result_final$coord1D),], x = "coord1D", y = "coord2D.WEIGHT",
palette = "jco", shape = "party", point = FALSE,
ellipse = TRUE, ellipse.type = "confidence", size = 4) +
scale_y_continuous(limits = c(-0.5, 0.5) ) +
scale_x_continuous(limits = c(-1, 1)) +
geom_text(aes(label = factor(party), colour = party), size = 3,
family="Helvetica", face = "bold", show.legend = FALSE, vjust = -0.5) +
scale_colour_manual(values = c("#0000ff","#008964","#8b0017"), breaks = c("K", "D","N"))  +
theme(legend.position = NULL,
legend.justification = "center",
legend.background = element_blank(),
legend.key = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 8,vjust = 0.5,family ="Trebuchet MS", face = "bold")) +
theme(axis.text = element_text(size=8, family ="Helvetica", face = "bold"),
axis.title = element_text(size = 8, family ="Helvetica", face = "bold"),
axis.text.x = element_text(size = 12 , family ="Helvetica",face = "bold"),
axis.text.y = element_text(size = 12, family ="Helvetica",face = "bold"),
axis.title.x = element_text(family ="Helvetica", size = 12, face = "bold"),
axis.title.y = element_text(family ="Helvetica", size = 12, face = "bold")) +
theme(legend.position = "none") +
labs(y = "2nd Dimension", x = "1st Dimension")
rownames_to_column(result$legislators, "legis.names") %>%
left_join(legis_7th_Taiwan[c("legis.names", "party")], by = "legis.names") %>%
mutate(coord2D.WEIGHT = coord2D*(result$weights[2])/(result$weights[1])) %>%
ggscatter(x = "coord1D", y = "coord2D.WEIGHT",
palette = "jco", shape = "party", point = FALSE,
ellipse = TRUE, ellipse.type = "confidence", size = 4) +
scale_y_continuous(limits = c(-0.5, 0.5) ) +
scale_x_continuous(limits = c(-1, 1)) +
geom_text(aes(label = factor(party), colour = party), size = 3,
family="Helvetica", face = "bold", show.legend = FALSE, vjust = -0.5) +
scale_colour_manual(values = c("#0000ff","#008964","#8b0017"), breaks = c("K", "D","N"))  +
theme(legend.position = NULL,
legend.justification = "center",
legend.background = element_blank(),
legend.key = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 8,vjust = 0.5,family ="Trebuchet MS", face = "bold")) +
theme(axis.text = element_text(size=8, family ="Helvetica", face = "bold"),
axis.title = element_text(size = 8, family ="Helvetica", face = "bold"),
axis.text.x = element_text(size = 12 , family ="Helvetica",face = "bold"),
axis.text.y = element_text(size = 12, family ="Helvetica",face = "bold"),
axis.title.x = element_text(family ="Helvetica", size = 12, face = "bold"),
axis.title.y = element_text(family ="Helvetica", size = 12, face = "bold")) +
theme(legend.position = "none") +
labs(y = "2nd Dimension", x = "1st Dimension")
example_result_graph2 <- rownames_to_column(result$legislators, "legis.names") %>%
left_join(legis_7th_Taiwan[c("legis.names", "party")], by = "legis.names") %>%
mutate(coord2D.WEIGHT = coord2D*(result$weights[2])/(result$weights[1])) %>%
ggscatter(x = "coord1D", y = "coord2D.WEIGHT",
palette = "jco", shape = "party", point = FALSE,
ellipse = TRUE, ellipse.type = "confidence", size = 4) +
scale_y_continuous(limits = c(-0.5, 0.5) ) +
scale_x_continuous(limits = c(-1, 1)) +
geom_text(aes(label = factor(party), colour = party), size = 3,
family="Helvetica", face = "bold", show.legend = FALSE, vjust = -0.5) +
scale_colour_manual(values = c("#0000ff","#008964","#8b0017"), breaks = c("K", "D","N"))  +
theme(legend.position = NULL,
legend.justification = "center",
legend.background = element_blank(),
legend.key = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 8,vjust = 0.5,family ="Trebuchet MS", face = "bold")) +
theme(axis.text = element_text(size=8, family ="Helvetica", face = "bold"),
axis.title = element_text(size = 8, family ="Helvetica", face = "bold"),
axis.text.x = element_text(size = 12 , family ="Helvetica",face = "bold"),
axis.text.y = element_text(size = 12, family ="Helvetica",face = "bold"),
axis.title.x = element_text(family ="Helvetica", size = 12, face = "bold"),
axis.title.y = element_text(family ="Helvetica", size = 12, face = "bold")) +
theme(legend.position = "none") +
labs(y = "2nd Dimension", x = "1st Dimension")
ggsave("example_result_graph2.png", width = 5, height = 5)
example_result_graph2
setwd("~/Desktop")
ggsave("example_result_graph2.png", width = 5, height = 4)
library("asmcjr")
citation("asmcjr")
example_result_graph2 <- rownames_to_column(result$legislators, "legis.names") %>%
left_join(legis_7th_Taiwan[c("legis.names", "party")], by = "legis.names") %>%
mutate(coord2D.WEIGHT = coord2D*(result$weights[2])/(result$weights[1])) %>%
ggscatter(x = "coord1D", y = "coord2D.WEIGHT",
palette = "jco", shape = "party", point = FALSE,
ellipse = TRUE, ellipse.type = "confidence", size = 4) +
scale_y_continuous(limits = c(-0.5, 0.5) ) +
scale_x_continuous(limits = c(-1, 1)) +
geom_text(aes(label = factor(party), colour = party), size = 3,
family="Helvetica", face = "bold", show.legend = FALSE, vjust = -0.5) +
scale_colour_manual(values = c("#0000ff","#008964","#8b0017"), breaks = c("K", "D","N"))  +
theme(legend.position = "none") +
labs(y = "2nd Dimension", x = "1st Dimension")
print(example_result_graph2)
example_result_graph2 <- rownames_to_column(result$legislators, "legis.names") %>%
left_join(legis_7th_Taiwan[c("legis.names", "party")], by = "legis.names") %>%
mutate(coord2D.WEIGHT = coord2D*(result$weights[2])/(result$weights[1])) %>%
ggscatter(x = "coord1D", y = "coord2D.WEIGHT",
palette = "jco", shape = "party", point = FALSE,
ellipse = TRUE, ellipse.type = "confidence", size = 4) +
scale_y_continuous(limits = c(-0.5, 0.5) ) +
scale_x_continuous(limits = c(-1, 1)) +
geom_text(aes(label = factor(party), colour = party), size = 3,
family="Helvetica", face = "bold", show.legend = FALSE, vjust = -0.5) +
scale_colour_manual(values = c("#0000ff","#008964","#8b0017"), breaks = c("K", "D","N"))  +
theme(legend.position = "bottom") +
labs(y = "2nd Dimension", x = "1st Dimension")
print(example_result_graph2)
mydate <- date()
x <- regexpr("[0-9]{4}", mydate)
this.year <- substr(mydate, x[1], x[1] + attr(x, "match.length") - 1)
this.year
install.packages("anominate")
library(dwnominate)
citation(dwnominate)
citation("anominate")
devtools::install_github("yl17124/asmcjr")
data(inst/legis_7th_Taiwan.rda)
inst(legis_7th_Taiwan.rda)
devtools::install_github("yl17124/asmcjr")
library(asmcjr)
remove.packages("asmcjr")
devtools::install_github("yl17124/asmcjr")
citation(asmcjr)
citation("asmcjr")
devtools::install_github("yl17124/asmcjr")
library(asmcjr)
attach(asmcjr)
library(asmcjr)
library("asmcjr")
.onAttach
.onAttach <- function(...) {
packageStartupMessage("\n ## This package supports the book Analyzing Spatial Models of Choice and Judgment with R")
packageStartupMessage("\n ## Authors: David A. Armstrong, II, Ryan Bakker, Royce Carroll, Christopher Hare, Keith T. Poole, Howard Rosenthal (2020)")
packageStartupMessage("\n ## Pacakge creator: David A. Armstrong")
packageStartupMessage("\n ## Pacakge contributors: David A. Armstrong (https://github.com/davidaarmstrong/asmcjr), Yen-Chieh Liao (https://github.com/yl17124/asmcjr)")
packageStartupMessage("\n ## Installation succeeded via https://github.com/yl17124/asmcjr on ", date())
}
.onUnload <- function(libpath) {
library.dynam.unload("asmcjr", libpath)
}
.onAttach(asmcjr)
.onAttach <- function(...) {
packageStartupMessage("\n ## This package supports the book Analyzing Spatial Models of Choice and Judgment with R")
packageStartupMessage("\n ## Authors: David A. Armstrong, II, Ryan Bakker, Royce Carroll, Christopher Hare, Keith T. Poole, Howard Rosenthal (2020)")
packageStartupMessage("\n ## Pacakge creator: David A. Armstrong")
packageStartupMessage("\n ## Pacakge contributors: David A. Armstrong (https://github.com/davidaarmstrong/asmcjr), Yen-Chieh Liao (https://github.com/yl17124/asmcjr)")
packageStartupMessage("\n ## Installation succeeded via https://github.com/yl17124/asmcjr on ", date())
}
.onUnload <- function(libpath) {
library.dynam("asmcjr", libpath)
}
load("~/Documents/GitHub/figures/legis_7th_Taiwan 15.01.29.rda")
load("~/Documents/GitHub/figures/legis_7th_Taiwan 15.01.29.rda")
load("~/Documents/GitHub/figures/legis_7th_Taiwan.rda")
View(legis_7th_Taiwan)
setwd("~/Documents/GitHub/figures")
write.csv(legis_7th_Taiwan, file = "legis_7th_Taiwan.csv",row.names = FALSE)
legis_7th_Taiwan
getwd()
write.csv(legis_7th_Taiwan, file = "legis_7th_Taiwan.csv",row.names = FALSE)
setwd("~/Documents/GitHub/figures")
getwd()
write.csv(legis_7th_Taiwan, file = "legis_7th_Taiwan.csv",row.names = FALSE)
write.csv(legis_7th_Taiwan, file = "legis_7th_Taiwan.csv",row.names = FALSE)
write.csv(legis_7th_Taiwan, file = "legis_7th_Taiwan.csv",row.names = FALSE)
legis_7th_Taiwan
typeof(legis_7th_Taiwan)
load("~/Documents/GitHub/figures/legis_7th_Taiwan.rda")
library(readr)
legis_7th_Taiwan <- read_csv("legis_7th_Taiwan.csv")
setwd("~/Documents/GitHub/figures")
View(legis_7th_Taiwan)
save(legis_7th_Taiwan, file="legisvote.rda", compress="xz")
save(legis_7th_Taiwan, file="legisvote.rda", compress="xz")
legisvote <- legis_7th_Taiwan
save(legisvote, file="legisvote.rda", compress="xz")
read_csv
legis_7th_Taiwan <- read_csv("https://github.com/yl17124/figures/blob/master/legis_7th_Taiwan.csv")
legis_7th_Taiwan
file <- "https://github.com/yl17124/figures/blob/master/legis_7th_Taiwan.csv"
Affairs <- read_csv(file)
Affairs <- read_csv(file)
Affairs
legis_7th_Taiwan <- read_csv("https://raw.githubusercontent.com/yl17124/figures/master/legis_7th_Taiwan.csv")
file
legis_7th_Taiwan
pscl_df <- rollcall(legis_7th_Taiwan[3:ncol(legis_7th_Taiwan)],
yea = 1 , nay = 2, notInLegis = c(3,4,5), legis.names = legis_7th_Taiwan$legis.names,
vote.names = colnames(legis_7th_Taiwan[3:ncol(legis_7th_Taiwan)]),
desc="The 7th Taiwan Legislative Roll Call")
summary(pscl_df, verbose=FALSE)
result
pscl_df <- rollcall(legis_7th_Taiwan[3:ncol(legis_7th_Taiwan)],
yea = 1 , nay = 2, notInLegis = c(3,4,5), legis.names = legis_7th_Taiwan$legis.names,
vote.names = colnames(legis_7th_Taiwan[3:ncol(legis_7th_Taiwan)]),
desc="The 7th Taiwan Legislative Roll Call")
result <- wnominate(pscl_df, ubeta = 15, uweights = 0.5,
dims = 2, minvotes = 20 , lop = 0.025, trials = 3, polarity = c("邱議瑩", "丁守中"), verbose = FALSE)
library(wnominate)
library(wnominate)
devtools::install_github("yl17124/asmcjr")
library(asmcjr)
View(ANES1968)
